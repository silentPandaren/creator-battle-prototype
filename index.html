<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Creator Battle ‚Äî War Robots</title>
<style>
  /*
   * Design tokens ‚Äî exact copy from:
   * my-games-market-front-master/styles/variables/
   *   palette.scss, semanticColors.scss, spacings.scss, typography.scss, media.scss
   */
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;450;500;550;600;650;700&display=swap');

  /* ‚îÄ‚îÄ Tokens ‚îÄ‚îÄ */
  :root {
    /* ‚îÄ‚îÄ‚îÄ palette.scss ‚îÄ‚îÄ‚îÄ */
    --white-500: #ffffff;
    --gray-50: #fafafa;
    --gray-100: #dedede;
    --gray-200: #c2c2c2;
    --gray-300: #a7a7a7;
    --gray-400: #6d6d72;
    --gray-500: #414141;
    --gray-600: #303030;
    --gray-700: #1e1e1e;
    --gray-800: #1c1c1c;
    --gray-900: #141414;
    --blue-50: #f2f6ff;
    --blue-100: #c2d7ff;
    --blue-200: #91b8ff;
    --blue-300: #6198ff;
    --blue-400: #3079ff;
    --blue-500: #005aff;
    --blue-600: #004cd6;
    --blue-700: #003dad;
    --blue-800: #002f84;
    --blue-900: #00205b;
    --green-400: #3bcf48;
    --green-500: #0fc31e;
    --green-600: #0ba518;
    --red-500: #ff0000;
    --red-600: #cf0000;
    --orange-500: #ff5811;
    --purple-500: #7000ff;
    --pink-500: #dc0050;
    --yellow-500: #ffc700;
    --alpha-white-10: rgba(255,255,255,0.1);
    --alpha-white-20: rgba(255,255,255,0.2);
    --alpha-white-40: rgba(255,255,255,0.4);
    --alpha-white-80: rgba(255,255,255,0.8);
    --alpha-gray-40: rgba(0,0,0,0.4);
    --alpha-gray-80: rgba(0,0,0,0.8);
    /* gold scale (used in warning/debug tag) */
    --gold1: #2b2111;
    --gold2: #443111;
    --gold3: #594214;
    --gold4: #7c5914;
    --gold5: #aa7714;
    --gold6: #d89614;
    --gold7: #e8b339;

    /* ‚îÄ‚îÄ‚îÄ semanticColors.scss ‚îÄ‚îÄ‚îÄ */
    --colorBgLayout: #0a0a0a;
    --colorBgBase: #0a0a0a;
    --colorBgContainer: #141414;
    --colorBgElevated: #1f1f1f;
    --colorBgSpotlight: #2d2d2d;
    --colorBgMask: rgba(0,0,0,0.65);
    --colorBgContainerDisabled: rgba(255,255,255,0.08);
    --colorBgTextHover: rgba(255,255,255,0.12);
    --colorBgTextActive: rgba(255,255,255,0.18);
    --colorText: #ffffff;
    --colorTextBase: #ffffff;
    --colorTextSecondary: rgba(255,255,255,0.65);
    --colorTextTertiary: rgba(255,255,255,0.45);
    --colorTextQuaternary: rgba(255,255,255,0.25);
    --colorTextDisabled: rgba(255,255,255,0.25);
    --colorTextPlaceholder: rgba(255,255,255,0.45);
    --colorIconSecondary: rgba(255,255,255,0.45);
    --colorBorder: #424242;
    --colorBorderSecondary: #303030;
    --colorBorderSpotlight: #2d2d2d;
    --colorBorderFocus: #15325b;
    --colorFill: rgba(255,255,255,0.18);
    --colorFillSecondary: rgba(255,255,255,0.12);
    --colorFillTertiary: rgba(255,255,255,0.08);
    --colorFillQuaternary: rgba(255,255,255,0.04);
    --colorFillAlterSolid: #1d1d1d;
    --colorSplit: rgba(255,255,255,0.1);
    --colorPrimary: #005aff;
    --colorPrimaryBg: #111a2c;
    --colorPrimaryBgHover: #112545;
    --colorPrimaryBorder: #15325b;
    --colorPrimaryHover: #3c89e8;
    --colorPrimaryActive: #1554ad;
    --colorPrimaryText: #005aff;
    --colorLink: #005aff;
    --colorSuccess: #52c41a;
    --colorSuccessBg: #162312;
    --colorWarning: #d89614;
    --colorWarningBg: #2b2111;
    --colorWarningBorder: #594214;
    --colorError: #e0000d;
    --colorErrorBg: #2a1215;
    --colorInfo: #005aff;

    /* ‚îÄ‚îÄ‚îÄ spacings.scss ‚îÄ‚îÄ‚îÄ */
    --base4: 4px;
    --base8: 8px;
    --base12: 12px;
    --base16: 16px;
    --base20: 20px;
    --base24: 24px;
    --base32: 32px;
    --base48: 48px;
    --base64: 64px;
    --borderRadius: 8px;
    --borderRadiusXL: 10px;
    --borderRadiusLG: 8px;
    --borderRadiusSM: 4px;
    --borderRadiusXS: 2px;
    --borderRadiusFull: 9999px;
    --controlHeight: 32px;
    --controlHeightLG: 44px;
    --controlHeightSM: 24px;
    --controlHeightXS: 16px;
    --lineWidth: 1px;
    --lineWidthBold: 2px;

    /* ‚îÄ‚îÄ‚îÄ typography.scss ‚îÄ‚îÄ‚îÄ */
    --fontWeightRegular: 450;
    --fontWeightMedium: 550;
    --fontWeightLightbold: 600;
    --fontWeightSemibold: 650;
    --fontWeightBold: 700;
    --letterSpacingDensest: -0.54px;
    --letterSpacingDenser: -0.3px;
    --letterSpacingDense: -0.2px;

    /* ‚îÄ‚îÄ‚îÄ teams (custom) ‚îÄ‚îÄ‚îÄ */
    --team1: #e84057;
    --team2: #3079ff;
    --team3: #0fc31e;
    --team4: #f5a623;
    --gold: #f5a623;
    --silver: #a7a7a7;
    --bronze: #cd7f32;
  }

  *, *::before, *::after { margin: 0; padding: 0; border: none; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
  html { scroll-behavior: smooth; overflow-x: hidden; }

  body {
    min-height: 100vh;
    background: var(--colorBgLayout);
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    color: var(--colorText);
    font-size: 14px;
    font-weight: var(--fontWeightRegular);
    line-height: 22px;
    -webkit-font-smoothing: antialiased;
    overflow-x: hidden;
  }

  /* globals.scss: a { color: #3079ff; } */
  a { color: #3079ff; text-decoration: none; }
  a:hover { color: var(--colorPrimaryHover); }

  /* ============================= LAYOUT ============================= */
  .page-wrap {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 var(--base32);
    overflow: hidden;
  }

  /* ============================= HEADER ============================= */
  .site-header {
    border-bottom: 1px solid var(--colorSplit);
  }

  .header-inner {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 var(--base32);
  }

  /* text-sm-normal: 400, 12px/20px */
  .breadcrumb {
    padding-top: var(--base16);
    font-size: 12px;
    font-weight: 400;
    line-height: 20px;
    color: var(--colorTextTertiary);
  }
  .breadcrumb a { color: var(--colorTextTertiary); }
  .breadcrumb a:hover { color: var(--colorTextSecondary); }
  .breadcrumb .sep { margin: 0 6px; }

  .header-top {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--base16) 0;
  }

  .game-info {
    display: flex;
    align-items: center;
    gap: var(--base12);
  }

  .game-icon {
    width: 44px; height: 44px;
    border-radius: 10px;
    overflow: hidden;
    object-fit: cover;
    flex-shrink: 0;
  }

  /* heading-4: font-weight 600, 20px/28px */
  .game-title {
    font-size: 20px;
    font-weight: var(--fontWeightLightbold);
    line-height: 28px;
    color: var(--colorText);
  }

  /* GameTop/styles.module.scss: .balanceContainer */
  .user-balance {
    display: flex;
    align-items: center;
    padding: 4px 15px;
    height: var(--controlHeight);
    gap: var(--base8);
    border-radius: var(--borderRadiusFull);
    background: var(--gray-600);
    font-size: 14px;
    font-weight: var(--fontWeightMedium);
    line-height: 22px;
    color: var(--colorText);
    cursor: pointer;
    white-space: nowrap;
    box-shadow: none;
  }
  .user-balance:hover { background: var(--gray-500); }
  .user-balance .coin { font-size: 16px; }
  .user-balance .chevron { margin-left: 2px; opacity: .5; }

  /* Navigation tabs */
  .main-nav {
    display: flex;
    gap: 0;
  }

  /* tabs.scss: ant-tabs tab styling */
  .main-nav a {
    position: relative;
    padding: var(--base12) var(--base16) 14px;
    font-size: 14px;
    font-weight: var(--fontWeightMedium);
    line-height: 22px;
    color: var(--colorTextSecondary);
    text-decoration: none;
    transition: color .15s;
    white-space: nowrap;
  }
  .main-nav a:first-child { padding-left: 0; }
  .main-nav a:hover { color: var(--colorText); }
  .main-nav a.active { color: var(--colorText); }
  .main-nav a.active::after {
    content: '';
    position: absolute;
    bottom: 0; left: 0; right: 0;
    height: 2px;
    background: var(--colorText);
  }

  /* ============================= EVENT FILTER PILLS ============================= */
  .sub-nav {
    display: flex;
    gap: var(--base8);
    flex-wrap: wrap;
    margin-top: var(--base8);
  }

  /* tag.scss: .mg-ui-tag ‚Äî borderRadius full, text-sm-normal */
  .pill {
    padding: 5px 16px;
    border-radius: var(--borderRadiusFull);
    font-size: 12px;
    font-weight: var(--fontWeightRegular);
    line-height: 20px;
    font-family: inherit;
    background: var(--colorFillTertiary);
    color: var(--colorTextSecondary);
    cursor: pointer;
    border: none;
    transition: all .15s;
  }
  .pill:hover { background: var(--colorFillSecondary); color: var(--colorText); }
  .pill.active {
    background: var(--colorPrimary);
    color: var(--colorText);
  }

  /* ============================= EVENT HEADER ============================= */
  /* EventHeader/styles: margin: $base32 0, flex-wrap, space-between, gap $base12 */
  .event-header {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: center;
    gap: var(--base12);
    margin: var(--base32) 0;
  }

  /* EventsTab: heading-2 ‚Üí font-weight 600, EventHeader: font-weight medium(550) */
  .event-title {
    font-size: 30px;
    font-weight: var(--fontWeightMedium);
    line-height: 38px;
    color: var(--colorText);
  }

  /* TimeStamp: text-sm-semi-bold (600, 12px/20px) */
  .event-expire {
    display: flex;
    align-items: center;
    gap: var(--base4);
    font-size: 12px;
    font-weight: var(--fontWeightLightbold);
    line-height: 20px;
    color: var(--colorTextSecondary);
    white-space: nowrap;
  }
  .event-expire__dot {
    width: 8px; height: 8px;
    border-radius: 50%;
    background: var(--green-500);
  }

  /* ============================= CONTENT CARD ============================= */
  /* RechargeEventTemplate: .block ‚Äî padding has 0 bottom; AboutBlock adds borderRadius */
  .block {
    position: relative;
    display: flex;
    padding: var(--base32) var(--base32) var(--base32) var(--base32);
    flex-direction: column;
    gap: var(--base24);
    background: var(--colorBgContainer);
    border-radius: var(--borderRadius);
    width: 100%;
  }

  /* heading-4: 600, 20px/28px */
  .block-title {
    font-size: 20px;
    font-weight: var(--fontWeightLightbold);
    line-height: 28px;
    color: var(--colorText);
  }

  /* button.scss: .m-tertiary style pattern */
  .btn-outlined {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    height: var(--controlHeight);
    padding: 0 15px;
    font-family: inherit;
    font-size: 14px;
    font-weight: var(--fontWeightMedium);
    line-height: 22px;
    color: var(--colorText);
    background: var(--colorFillSecondary);
    border: none;
    border-radius: var(--borderRadius);
    cursor: pointer;
    box-shadow: none;
    transition: all .15s;
  }
  .btn-outlined:hover {
    color: var(--colorPrimaryHover);
    background: var(--colorFillSecondary);
  }

  .divider {
    width: 100%;
    height: 1px;
    background: var(--colorSplit);
  }

  /* ============================= SCORE BAR ============================= */
  .score-bar-wrap {
    display: flex;
    flex-direction: column;
    gap: var(--base8);
  }
  /* text-sm-semi-bold: 600, 12px/20px */
  .score-bar-label {
    font-size: 12px;
    font-weight: var(--fontWeightLightbold);
    line-height: 20px;
    color: var(--colorTextTertiary);
    text-transform: uppercase;
    letter-spacing: 1px;
  }
  .score-bar {
    height: 28px;
    border-radius: 6px;
    overflow: hidden;
    display: flex;
    background: var(--colorFillTertiary);
  }
  .score-bar__seg {
    height: 100%;
    transition: width .8s cubic-bezier(.4, 0, .2, 1);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 11px;
    font-weight: var(--fontWeightBold);
    color: #fff;
    min-width: 0;
    overflow: hidden;
    white-space: nowrap;
  }
  .score-bar__seg:nth-child(1) { background: var(--team1); }
  .score-bar__seg:nth-child(2) { background: var(--team2); }
  .score-bar__seg:nth-child(3) { background: var(--team3); }
  .score-bar__seg:nth-child(4) { background: var(--team4); }

  /* ============================= TEAMS GRID ============================= */
  .teams {
    display: grid;
    gap: var(--base12);
  }
  .teams[data-count="2"] { grid-template-columns: repeat(2, 1fr); }
  .teams[data-count="3"] { grid-template-columns: repeat(3, 1fr); }
  .teams[data-count="4"] { grid-template-columns: repeat(4, 1fr); }

  /* ============================= TEAM CARD ============================= */
  .team-card {
    background: var(--colorBgLayout);
    border: 1px solid var(--colorBorderSecondary);
    border-radius: var(--borderRadius);
    padding: var(--base24) var(--base16);
    position: relative;
    transition: border-color .15s;
  }
  .team-card:hover { border-color: var(--colorBorder); }
  .team-card::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 3px;
    border-radius: var(--borderRadius) var(--borderRadius) 0 0;
  }
  .team-card[data-team="0"]::before { background: var(--team1); }
  .team-card[data-team="1"]::before { background: var(--team2); }
  .team-card[data-team="2"]::before { background: var(--team3); }
  .team-card[data-team="3"]::before { background: var(--team4); }

  .team-card__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--base16);
  }
  .team-card__blogger {
    display: flex;
    align-items: center;
    gap: var(--base12);
  }
  .team-card__avatar {
    width: 40px; height: 40px;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid var(--colorBorderSecondary);
  }
  .team-card[data-team="0"] .team-card__avatar { border-color: var(--team1); }
  .team-card[data-team="1"] .team-card__avatar { border-color: var(--team2); }
  .team-card[data-team="2"] .team-card__avatar { border-color: var(--team3); }
  .team-card[data-team="3"] .team-card__avatar { border-color: var(--team4); }
  /* text-base-semi-bold: 600, 14px/22px */
  .team-card__name {
    font-size: 14px;
    font-weight: var(--fontWeightLightbold);
    line-height: 22px;
  }
  .team-card__code {
    font-size: 12px;
    line-height: 20px;
    color: var(--colorTextTertiary);
  }
  /* Badge: font-size-350 medium, borderRadiusFull */
  .team-card__rank-badge {
    font-size: 14px;
    font-weight: var(--fontWeightMedium);
    line-height: 20px;
    color: var(--colorTextSecondary);
    background: rgba(255,255,255,0.18);
    padding: var(--base8);
    min-width: 32px;
    text-align: center;
    border-radius: var(--borderRadiusFull);
  }

  .team-card__score-row {
    display: flex;
    align-items: baseline;
    gap: var(--base8);
    margin-bottom: var(--base16);
  }
  .team-card__score {
    font-size: 26px;
    font-weight: var(--fontWeightBold);
    font-variant-numeric: tabular-nums;
    line-height: 1;
  }
  .team-card[data-team="0"] .team-card__score { color: var(--team1); }
  .team-card[data-team="1"] .team-card__score { color: var(--team2); }
  .team-card[data-team="2"] .team-card__score { color: var(--team3); }
  .team-card[data-team="3"] .team-card__score { color: var(--team4); }
  .team-card__score-unit {
    font-size: 12px;
    color: var(--colorTextTertiary);
    font-weight: var(--fontWeightRegular);
  }

  /* Donator list */
  .donators__title {
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    color: var(--colorTextTertiary);
    margin-bottom: var(--base8);
    font-weight: var(--fontWeightLightbold);
  }
  .donator {
    display: flex;
    align-items: center;
    gap: var(--base8);
    padding: 6px 0;
    border-bottom: 1px solid var(--colorSplit);
  }
  .donator:last-child { border-bottom: none; }
  .donator__rank {
    width: 20px; height: 20px;
    border-radius: 50%;
    background: var(--colorFill);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 10px;
    font-weight: var(--fontWeightBold);
    flex-shrink: 0;
  }
  .donator__rank.gold { background: var(--gold); color: #000; }
  .donator__rank.silver { background: var(--silver); color: #000; }
  .donator__rank.bronze { background: var(--bronze); color: #fff; }
  .donator__name {
    flex: 1;
    font-size: 13px;
    font-weight: var(--fontWeightRegular);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  .donator__amount {
    font-size: 13px;
    font-weight: var(--fontWeightMedium);
    font-variant-numeric: tabular-nums;
    color: var(--colorTextSecondary);
  }
  .donator__empty {
    color: var(--colorTextTertiary);
    font-size: 13px;
    padding: 6px 0;
  }

  /* ============================= FEED ============================= */
  .feed-label {
    font-size: 12px;
    font-weight: var(--fontWeightLightbold);
    line-height: 20px;
    color: var(--colorTextTertiary);
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: var(--base8);
  }
  .feed-list {
    display: flex;
    flex-direction: column;
    gap: var(--base4);
    max-height: 176px;
    overflow-y: auto;
  }
  .feed-item {
    display: flex;
    align-items: center;
    gap: var(--base8);
    background: var(--colorBgLayout);
    border: 1px solid var(--colorBorderSecondary);
    border-radius: var(--borderRadius);
    padding: var(--base8) var(--base12);
    animation: feedIn .3s ease-out;
  }
  @keyframes feedIn {
    from { opacity: 0; transform: translateY(-4px); }
    to   { opacity: 1; transform: translateY(0); }
  }
  .feed-dot {
    width: 8px; height: 8px;
    border-radius: 50%;
    flex-shrink: 0;
  }
  .feed-text {
    flex: 1;
    font-size: 13px;
    color: var(--colorTextSecondary);
  }
  .feed-text strong { font-weight: var(--fontWeightLightbold); color: var(--colorText); }
  .feed-amount {
    font-size: 13px;
    font-weight: var(--fontWeightBold);
  }

  /* ============================= PRIZES ROW ============================= */
  .prizes-label {
    font-size: 12px;
    font-weight: var(--fontWeightLightbold);
    line-height: 20px;
    color: var(--colorTextTertiary);
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: var(--base12);
  }
  .prizes-row {
    display: flex;
    gap: var(--base8);
    flex-wrap: wrap;
  }
  .prize-badge {
    display: flex;
    align-items: center;
    gap: var(--base8);
    background: var(--colorBgLayout);
    border: 1px solid var(--colorBorderSecondary);
    border-radius: var(--borderRadiusFull);
    padding: 6px 16px 6px 6px;
  }
  .prize-badge__place {
    width: 28px; height: 28px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    font-weight: var(--fontWeightBold);
    color: #fff;
  }
  .prize-badge__place--1 { background: linear-gradient(135deg, #f5a623, #f7c948); color: #000; }
  .prize-badge__place--2 { background: linear-gradient(135deg, #a7a7a7, #c8c8d0); color: #000; }
  .prize-badge__place--3 { background: linear-gradient(135deg, #cd7f32, #e6a35e); color: #fff; }
  .prize-badge__place--4 { background: var(--colorFill); }
  .prize-badge__icon { font-size: 15px; }
  .prize-badge__value {
    font-size: 14px;
    font-weight: var(--fontWeightLightbold);
  }

  /* ============================= LEGAL / FOOTER ============================= */
  /* EventsTab: .legal ‚Äî text-base-normal (500, 14px/22px), colorTextSecondary */
  .legal {
    margin-top: var(--base32);
    color: var(--colorTextSecondary);
    font-size: 14px;
    font-weight: var(--fontWeightMedium);
    line-height: 22px;
  }
  .legal a { color: #3079ff; }
  .legal a:visited { color: var(--blue-300); }
  .legal a:hover { text-decoration: underline; }

  /* ============================= DEBUG PANEL ============================= */
  .debug-panel {
    position: fixed;
    bottom: var(--base16);
    right: var(--base16);
    background: var(--colorBgContainer);
    border: 1px solid var(--colorBorder);
    border-radius: var(--borderRadius);
    padding: var(--base16);
    width: 260px;
    z-index: 100;
    box-shadow: 0 8px 32px rgba(0,0,0,.6);
  }
  /* tag.scss: color-gold type-bordered pattern */
  .debug-panel__title {
    font-size: 10px;
    font-weight: var(--fontWeightBold);
    letter-spacing: 1px;
    text-transform: uppercase;
    color: var(--gold6);
    margin-bottom: 0;
  }
  .debug-panel__section-label {
    font-size: 10px;
    font-weight: var(--fontWeightLightbold);
    letter-spacing: .8px;
    text-transform: uppercase;
    color: var(--colorTextTertiary);
    margin-bottom: var(--base4);
  }
  .debug-panel__row {
    display: flex;
    gap: var(--base4);
    margin-bottom: var(--base8);
  }
  .debug-panel__pill {
    flex: 1;
    padding: 4px 0;
    font-family: inherit;
    font-size: 12px;
    font-weight: var(--fontWeightLightbold);
    line-height: 20px;
    color: var(--colorTextSecondary);
    background: var(--colorFillTertiary);
    border: 1px solid transparent;
    border-radius: 6px;
    cursor: pointer;
    transition: all .15s;
    text-align: center;
  }
  .debug-panel__pill:hover { background: var(--colorFillSecondary); color: var(--colorText); }
  .debug-panel__pill.active {
    background: var(--colorPrimary);
    color: var(--colorText);
    border-color: var(--colorPrimary);
  }
  .debug-panel__input {
    flex: 1;
    background: var(--colorBgLayout);
    border: 1px solid var(--colorBorderSecondary);
    border-radius: 6px;
    padding: 6px 10px;
    color: var(--colorText);
    font-size: 12px;
    font-family: inherit;
  }
  .debug-panel__input:focus { outline: none; border-color: var(--colorPrimary); }
  .debug-panel__select {
    background: var(--colorBgLayout);
    border: 1px solid var(--colorBorderSecondary);
    border-radius: 6px;
    padding: 6px 10px;
    color: var(--colorText);
    font-size: 12px;
    font-family: inherit;
    cursor: pointer;
  }
  /* tag.scss: color-gold type-bordered pattern */
  .debug-panel__btn {
    width: 100%;
    padding: var(--base8);
    font-family: inherit;
    font-size: 12px;
    font-weight: var(--fontWeightLightbold);
    line-height: 20px;
    color: var(--gold6);
    background: var(--gold1);
    border: 1px dashed var(--gold3);
    border-radius: var(--borderRadius);
    cursor: pointer;
    transition: all .15s;
  }
  .debug-panel__btn:hover {
    background: var(--gold2);
    border-color: var(--gold4);
  }
  .debug-panel__auto {
    display: flex;
    align-items: center;
    gap: var(--base8);
    margin-top: var(--base8);
    font-size: 11px;
    color: var(--colorTextTertiary);
    cursor: pointer;
  }
  .debug-panel__auto input { cursor: pointer; }

  /* ============================= MODAL (About) ============================= */
  .modal-overlay {
    position: fixed;
    inset: 0;
    background: var(--colorBgMask);
    z-index: 200;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    pointer-events: none;
    transition: opacity .2s ease;
  }
  .modal-overlay.open {
    opacity: 1;
    pointer-events: auto;
  }
  .modal {
    background: var(--colorBgElevated);
    border: 1px solid var(--colorBorderSecondary);
    border-radius: var(--borderRadiusXL);
    padding: var(--base32);
    width: 520px;
    max-width: calc(100vw - 32px);
    max-height: calc(100vh - 64px);
    overflow-y: auto;
    box-shadow: 0 16px 48px rgba(0,0,0,.5);
    transform: translateY(12px) scale(.97);
    transition: transform .25s cubic-bezier(.4,0,.2,1);
  }
  .modal-overlay.open .modal {
    transform: translateY(0) scale(1);
  }
  .modal__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--base24);
  }
  .modal__title {
    font-size: 20px;
    font-weight: var(--fontWeightLightbold);
    line-height: 28px;
    color: var(--colorText);
  }
  .modal__close {
    width: 32px; height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--colorFillTertiary);
    border: none;
    border-radius: var(--borderRadiusFull);
    color: var(--colorTextSecondary);
    cursor: pointer;
    font-size: 18px;
    transition: all .15s;
    flex-shrink: 0;
  }
  .modal__close:hover {
    background: var(--colorFillSecondary);
    color: var(--colorText);
  }
  .modal__body {
    display: flex;
    flex-direction: column;
    gap: var(--base16);
    color: var(--colorTextSecondary);
    font-size: 14px;
    font-weight: var(--fontWeightRegular);
    line-height: 22px;
  }
  .modal__body h3 {
    font-size: 14px;
    font-weight: var(--fontWeightLightbold);
    line-height: 22px;
    color: var(--colorText);
    margin-bottom: var(--base4);
  }
  .modal__body ol, .modal__body ul {
    padding-left: var(--base20);
    display: flex;
    flex-direction: column;
    gap: var(--base4);
  }
  .modal__body li {
    line-height: 22px;
  }

  /* ============================= DEBUG PANEL TOGGLE ============================= */
  .debug-panel__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    cursor: pointer;
    user-select: none;
  }
  .debug-panel__toggle {
    width: 20px; height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: none;
    border: none;
    color: var(--colorTextTertiary);
    cursor: pointer;
    transition: transform .2s ease;
    padding: 0;
  }
  .debug-panel.collapsed .debug-panel__toggle {
    transform: rotate(180deg);
  }
  .debug-panel__body {
    display: flex;
    flex-direction: column;
    gap: 0px;
    overflow: hidden;
    max-height: 500px;
    transition: max-height .3s ease, opacity .2s ease;
    opacity: 1;
  }
  .debug-panel.collapsed .debug-panel__body {
    max-height: 0;
    opacity: 0;
  }
  .debug-panel.collapsed {
    width: auto;
    min-width: 140px;
  }

  /* ============================= SCROLLBAR ============================= */
  ::-webkit-scrollbar { width: 5px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb { background: var(--colorBorderSecondary); border-radius: 3px; }

  /* ============================= RESPONSIVE ============================= */
  /* media.scss: @mixin tablet { @media (max-width: 999px) } */
  @media (max-width: 999px) {
    .teams[data-count="3"],
    .teams[data-count="4"] { grid-template-columns: repeat(2, 1fr); }
    .event-header { flex-direction: column; align-items: flex-start; }
    .event-header .event-expire { flex-direction: row; }
  }

  /* media.scss: @mixin mobile { @media (max-width: 499px) } */
  @media (max-width: 499px) {
    .page-wrap, .header-inner { padding-left: var(--base16); padding-right: var(--base16); }
    .block { padding: var(--base16); }
    .teams { grid-template-columns: 1fr !important; }
    .main-nav { overflow-x: auto; -webkit-overflow-scrolling: touch; scrollbar-width: none; }
    .main-nav::-webkit-scrollbar { display: none; }
    .header-top { flex-wrap: wrap; gap: var(--base8); }
    /* heading-5: 600, 16px/24px */
    .game-title { font-size: 16px; line-height: 24px; }
    /* heading-3: 600, 24px/32px */
    .event-title { font-size: 24px; line-height: 32px; }
  }
</style>
</head>
<body>

<!-- ==================== HEADER ==================== -->
<header class="site-header">
  <div class="header-inner">
    <div class="breadcrumb">
      <a href="#">Market</a><span class="sep">/</span><a href="#">Events</a>
    </div>
    <div class="header-top">
      <div class="game-info">
        <img class="game-icon" src="war-robots-logo.png" alt="War Robots">
        <span class="game-title">War Robots</span>
      </div>
      <div class="user-balance">
        <span class="coin">üçè</span>
        92352054
        <svg class="chevron" width="10" height="6" viewBox="0 0 10 6" fill="none"><path d="M1 1l4 4 4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
      </div>
    </div>
    <nav class="main-nav">
      <a href="#">Home</a>
      <a href="#">Official APK</a>
      <a href="#">News</a>
      <a href="#">Shop</a>
      <a href="#">Promo codes</a>
      <a href="#">History</a>
      <a href="#" class="active">Events</a>
    </nav>
  </div>
</header>

<!-- ==================== BODY CONTENT ==================== -->
<div class="page-wrap">

  <!-- Event filter pills -->
  <div class="sub-nav">
    <button class="pill active">Creator Battle</button>
    <button class="pill">Hero Tavern</button>
    <button class="pill">Festival of Talents!</button>
  </div>

  <!-- Event header -->
  <div class="event-header">
    <h1 class="event-title">Creator Battle</h1>
    <div style="display:flex;align-items:center;gap:var(--base12);">
      <button class="btn-outlined" onclick="openAbout()">‚ÑπÔ∏è About</button>
      <div class="event-expire">
        <div class="event-expire__dot"></div>
        Expires in 3 days
      </div>
    </div>
  </div>

  <!-- Main content block -->
  <div class="block">

    <!-- Score bar -->
    <div class="score-bar-wrap">
      <div class="score-bar-label">Balance of power</div>
      <div class="score-bar" id="scoreBar"></div>
    </div>

    <!-- Teams grid -->
    <div class="teams" id="teamsGrid" data-count="2"></div>

    <div class="divider"></div>

    <!-- Feed -->
    <div>
      <div class="feed-label">Recent purchases</div>
      <div class="feed-list" id="feedList"></div>
    </div>

    <div class="divider"></div>

    <!-- Prizes -->
    <div>
      <div class="prizes-label">Table of places and prizes</div>
      <div class="prizes-row" id="prizesRow"></div>
    </div>

    <div class="divider"></div>

    <button class="btn-outlined" onclick="window.open('https://market.my.games','_blank')">Go shopping</button>

  </div>

  <!-- Legal -->
  <div class="legal">
    By making purchases on MY.GAMES Market during the event, you accept <a href="#">Terms and conditions</a>.
  </div>
</div>

<!-- ABOUT MODAL -->
<div class="modal-overlay" id="aboutModal" onclick="closeAbout(event)">
  <div class="modal">
    <div class="modal__header">
      <div class="modal__title">About the Event</div>
      <button class="modal__close" onclick="closeAbout()" title="Close">‚úï</button>
    </div>
    <div class="modal__body">
      <div>
        <h3>What is Creator Battle?</h3>
        <p>Creator Battle is a competition between your favourite bloggers! Teams earn points based on purchases made with their creator code on MY.GAMES Market.</p>
      </div>
      <div>
        <h3>How it works</h3>
        <ol>
          <li>Several bloggers are selected before the event and split into teams.</li>
          <li>During the event, every purchase made with a blogger's promo code earns points for that blogger's team.</li>
          <li>The team leaderboard updates in real time ‚Äî watch the balance of power shift!</li>
          <li>Within each team, a Top-5 donator ranking shows the most active supporters.</li>
        </ol>
      </div>
      <div>
        <h3>Prizes</h3>
        <ul>
          <li>Each team place earns a unique prize pool distributed among the team's top donators.</li>
          <li>Prizes are awarded after the event ends. Check the prizes table for exact values.</li>
        </ul>
      </div>
      <div>
        <h3>Rules</h3>
        <ul>
          <li>Only purchases made during the event period count towards scores.</li>
          <li>A valid blogger promo code must be applied at checkout.</li>
          <li>Refunded purchases will be deducted from the team's score.</li>
          <li>MY.GAMES reserves the right to disqualify participants suspected of fraud.</li>
        </ul>
      </div>
    </div>
  </div>
</div>

<!-- DEBUG PANEL -->
<div class="debug-panel" id="debugPanel">
  <div class="debug-panel__header" onclick="toggleDebugPanel()">
    <div class="debug-panel__title">üõ† Debug Panel</div>
    <button class="debug-panel__toggle" title="Toggle panel">
      <svg width="12" height="8" viewBox="0 0 12 8" fill="none"><path d="M1 1.5l5 5 5-5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
    </button>
  </div>
  <div class="debug-panel__body">
    <div style="margin-top:var(--base12)">
      <div class="debug-panel__section-label">Teams</div>
      <div class="debug-panel__row" id="teamCountBtns">
        <button class="debug-panel__pill active" onclick="setTeamCount(2)">2</button>
        <button class="debug-panel__pill" onclick="setTeamCount(3)">3</button>
        <button class="debug-panel__pill" onclick="setTeamCount(4)">4</button>
      </div>
      <div class="debug-panel__section-label">Simulate purchase</div>
      <div class="debug-panel__row">
        <input class="debug-panel__input" id="buyerName" placeholder="Buyer name">
      </div>
      <div class="debug-panel__row">
        <input class="debug-panel__input" id="buyAmount" type="number" placeholder="Points" value="500" min="1">
        <select class="debug-panel__select" id="buyTeam"></select>
      </div>
      <button class="debug-panel__btn" onclick="manualPurchase()">üí∏ Purchase</button>
      <label class="debug-panel__auto">
        <input type="checkbox" id="autoMode" onchange="toggleAutoMode()"> Auto mode (random purchases)
      </label>
    </div>
  </div>
</div>

<script>
// ============================
// DATA
// ============================
const BLOGGERS = [
  { name: 'PilotStorm',   code: 'STORM',    avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=storm&backgroundColor=b6e3f4' },
  { name: 'PilotVortex',  code: 'VORTEX',   avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=vortex&backgroundColor=c0aede' },
  { name: 'PilotBlaze',   code: 'BLAZE',    avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=blaze&backgroundColor=d1f4d1' },
  { name: 'PilotNova',    code: 'NOVA',     avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=nova&backgroundColor=ffd5dc' },
];

const TEAM_COLORS = ['var(--team1)', 'var(--team2)', 'var(--team3)', 'var(--team4)'];

const PRIZES = [
  { place: '1', value: 500 },
  { place: '2', value: 400 },
  { place: '3', value: 300 },
  { place: '4', value: 200 },
];

const RANDOM_NAMES = [
  'xShadow', '–î–∏–º–∞Fire', 'AnnaCraft', 'PavelPro', 'SanyaWolf',
  'KrisLine', 'MaxStorm', 'OlgaRain', 'ArtemByte', 'NastyaStar',
  'DenisIce', 'LenaGold', 'VladDark', 'KatyaSun', 'IgorWin',
  'SvetaBoom', '–§—ë–¥–æ—ÄRage', 'PolinaZen', 'RomanEdge', 'JuliaVibe',
];

let teamCount = 2;
let teams = [];
let feedItems = [];
let autoInterval = null;

// ============================
// INIT
// ============================
function initTeams(count) {
  teamCount = count;
  teams = [];
  for (let i = 0; i < count; i++) {
    teams.push({
      blogger: BLOGGERS[i],
      score: 0,
      donators: new Map(),
    });
  }
  feedItems = [];
  render();
  updateTeamSelect();
}

// ============================
// PURCHASE
// ============================
function addPurchase(teamIdx, buyerName, amount) {
  const team = teams[teamIdx];
  team.score += amount;
  const current = team.donators.get(buyerName) || 0;
  team.donators.set(buyerName, current + amount);

  feedItems.unshift({ teamIdx, buyerName, amount, time: new Date() });
  if (feedItems.length > 50) feedItems.pop();

  render();
}

// ============================
// RENDER
// ============================
function render() {
  renderScoreBar();
  renderTeams();
  renderFeed();
  renderPrizes();
}

function renderScoreBar() {
  const totalScore = teams.reduce((s, t) => s + t.score, 0) || 1;
  const bar = document.getElementById('scoreBar');
  bar.innerHTML = teams.map((t, i) => {
    const pct = ((t.score / totalScore) * 100).toFixed(1);
    return `<div class="score-bar__seg" style="width:${pct}%">${pct > 10 ? Math.round(pct) + '%' : ''}</div>`;
  }).join('');
}

function renderTeams() {
  const grid = document.getElementById('teamsGrid');
  grid.setAttribute('data-count', teamCount);

  const sorted = teams.map((t, i) => ({ ...t, idx: i })).sort((a, b) => b.score - a.score);
  const rankMap = {};
  sorted.forEach((t, pos) => rankMap[t.idx] = pos + 1);

  grid.innerHTML = teams.map((team, i) => {
    const top5 = getTop5(team.donators);
    const rank = rankMap[i];
    return `
      <div class="team-card" data-team="${i}">
        <div class="team-card__header">
          <div class="team-card__blogger">
            <img class="team-card__avatar" src="${team.blogger.avatar}" alt="${team.blogger.name}">
            <div>
              <div class="team-card__name">${team.blogger.name}</div>
              <div class="team-card__code">Code: ${team.blogger.code}</div>
            </div>
          </div>
          <div class="team-card__rank-badge">#${rank}</div>
        </div>
        <div class="team-card__score-row">
          <div class="team-card__score">${formatNumber(team.score)}</div>
          <div class="team-card__score-unit">pts</div>
        </div>
        <div class="donators">
          <div class="donators__title">Top 5 donators</div>
          ${top5.length === 0 ? '<div class="donator__empty">No purchases yet</div>' : ''}
          ${top5.map((d, j) => `
            <div class="donator">
              <div class="donator__rank ${j === 0 ? 'gold' : j === 1 ? 'silver' : j === 2 ? 'bronze' : ''}">${j + 1}</div>
              <div class="donator__name">${d.name}</div>
              <div class="donator__amount">${formatNumber(d.amount)} points</div>
            </div>
          `).join('')}
        </div>
      </div>
    `;
  }).join('');
}

function renderFeed() {
  const list = document.getElementById('feedList');
  list.innerHTML = feedItems.slice(0, 12).map(item => `
    <div class="feed-item">
      <div class="feed-dot" style="background:${TEAM_COLORS[item.teamIdx]}"></div>
      <div class="feed-text"><strong>${item.buyerName}</strong> purchased with code <strong>${teams[item.teamIdx].blogger.code}</strong></div>
      <div class="feed-amount" style="color:${TEAM_COLORS[item.teamIdx]}">+${formatNumber(item.amount)} points</div>
    </div>
  `).join('');
}

function renderPrizes() {
  const row = document.getElementById('prizesRow');
  row.innerHTML = PRIZES.slice(0, teamCount).map((p, i) => `
    <div class="prize-badge">
      <div class="prize-badge__place prize-badge__place--${i + 1}">${p.place}</div>
      <span class="prize-badge__icon">üéÅ</span>
      <span class="prize-badge__value">${formatNumber(p.value)}</span>
    </div>
  `).join('');
}

// ============================
// HELPERS
// ============================
function getTop5(donators) {
  return [...donators.entries()]
    .map(([name, amount]) => ({ name, amount }))
    .sort((a, b) => b.amount - a.amount)
    .slice(0, 5);
}

function formatNumber(n) {
  return n.toLocaleString('ru-RU');
}

function updateTeamSelect() {
  const sel = document.getElementById('buyTeam');
  sel.innerHTML = teams.map((t, i) => `<option value="${i}">${t.blogger.code}</option>`).join('');
}

// ============================
// CONTROLS
// ============================
function setTeamCount(n) {
  document.querySelectorAll('#teamCountBtns .debug-panel__pill').forEach((btn, i) => {
    btn.classList.toggle('active', (i === 0 && n === 2) || (i === 1 && n === 3) || (i === 2 && n === 4));
  });
  initTeams(n);
}

function manualPurchase() {
  const name = document.getElementById('buyerName').value.trim() || RANDOM_NAMES[Math.floor(Math.random() * RANDOM_NAMES.length)];
  const amount = parseInt(document.getElementById('buyAmount').value) || 500;
  const teamIdx = parseInt(document.getElementById('buyTeam').value);
  addPurchase(teamIdx, name, amount);
}

function toggleAutoMode() {
  if (document.getElementById('autoMode').checked) {
    autoInterval = setInterval(() => {
      const teamIdx = Math.floor(Math.random() * teamCount);
      const name = RANDOM_NAMES[Math.floor(Math.random() * RANDOM_NAMES.length)];
      const amount = [100, 200, 300, 500, 700, 1000, 1500, 2000, 5000][Math.floor(Math.random() * 9)];
      addPurchase(teamIdx, name, amount);
    }, 800);
  } else {
    clearInterval(autoInterval);
    autoInterval = null;
  }
}

// ============================
// ABOUT MODAL
// ============================
function openAbout() {
  document.getElementById('aboutModal').classList.add('open');
  document.body.style.overflow = 'hidden';
}

function closeAbout(e) {
  if (e && e.target !== e.currentTarget) return; // only close on overlay click
  document.getElementById('aboutModal').classList.remove('open');
  document.body.style.overflow = '';
}

document.addEventListener('keydown', function(e) {
  if (e.key === 'Escape') closeAbout();
});

// ============================
// DEBUG PANEL TOGGLE
// ============================
function toggleDebugPanel() {
  document.getElementById('debugPanel').classList.toggle('collapsed');
}

// ====== BOOT ======
initTeams(2);
</script>

</body>
</html>
